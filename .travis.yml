sudo: false
language: perl
perl:
   - 'blead'
   - '5.20'
   - '5.18'
   - '5.16'
   - '5.14'
   - '5.12'
   - '5.10'
   - '5.8'
matrix:
   allow_failures:
      - perl: 'blead'
      - perl: '5.8'
   fast_finish: true
before_install:
   - git config --global user.name "TravisCI"
   - git config --global user.email $HOSTNAME":not-for-mail@travis-ci.org"
install:
   - export OLD_CPANM_OPT=$PERL_CPANM_OPT
   - export PERL_CPANM_OPT='--mirror http://cpan.metacpan.org/ --mirror http://search.cpan.org/CPAN' $PERL_CPANM_OPT
   - cpanm --verbose MARCEL/
   - cpanm --verbose URI/
   - cpanm --verbose MAROS/
   - cpanm --verbose RJBS/
   - cpanm --verbose GTERMARS/
   - cpanm --verbose LKUNDRAK/
   - cpanm --verbose THALJEF/
   - cpanm --verbose DWHEELER/
   - cpanm --verbose PETDANCE/
   - cpanm --verbose MITHUN/
   - cpanm --verbose GAAS/
   - cpanm --verbose --installdeps MARCEL/
   - cpanm --verbose --installdeps URI/
   - cpanm --verbose --installdeps MAROS/
   - cpanm --verbose --installdeps RJBS/
   - cpanm --verbose --installdeps GTERMARS/
   - cpanm --verbose --installdeps LKUNDRAK/
   - cpanm --verbose --installdeps THALJEF/
   - cpanm --verbose --installdeps DWHEELER/
   - cpanm --verbose --installdeps PETDANCE/
   - cpanm --verbose --installdeps MITHUN/
   - cpanm --verbose --installdeps GAAS/
   - export PERL_CPANM_OPT=$OLD_CPANM_OPT
script:
   - dzil smoke --release --author
